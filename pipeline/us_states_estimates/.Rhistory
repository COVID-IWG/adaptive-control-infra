library(googleAuthR)         ## authentication
library(googleCloudStorageR) ## google cloud storage
install.packages(c('googleAuthR','googleCloudStorageR'))
install.packages('containeRit')
if(!require(containeRit)){
devtools::install_github("MarkEdmondson1234/containerit") #use my fork until fix merged
library(containeRit)
}
install.packages('containerit')
devtools::install_github("o2r-project/containerit")
library(containerit)
setwd("C:/Users/steve/OneDrive/Current Documents/Research/COVID/adaptive-control-infra/pipeline/us_states_estimates")
rmd_dockerfile <- containerit::dockerfile(from = "cori_model.R",
image = "rocker/verse:3.5.3",
soft = TRUE,
cmd = CMD_Rscript("schedule.R"),
filter_baseimage_pkgs = TRUE)
## it will run the script whilst making the dockerfile
rmd_dockerfile <- containerit::dockerfile(from = "cori_model.R",
image = "rocker/verse:3.5.3",
soft = TRUE,
cmd = CMD_Rscript("cori_model.R"),
filter_baseimage_pkgs = TRUE)
## it will run the script whilst making the dockerfile
rmd_dockerfile <- containerit::dockerfile(from = "cori_model.R",
image = "rocker/verse:3.5.3",
soft = TRUE,
cmd = CMD_Rscript("cori_model.R"),
filter_baseimage_pkgs = TRUE)
.Last.error.trace
if(!require(containeRit)){
devtools::install_github("o2r-project/containerit")
library(containerit)
}
if(!require(containerit)){
devtools::install_github("o2r-project/containerit")
library(containerit)
}
script <- system.file("schedulescripts", "cori_model.R", package="googleComputeEngineR")
## put the "schedule.R" script in the working directory
file.copy(script, getwd())
rmd_dockerfile <- containerit::dockerfile(from = "cori_model.R",
image = "rocker/verse:3.5.3",
soft = TRUE,
cmd = CMD_Rscript("cori_model.R"),
filter_baseimage_pkgs = TRUE)
.Last.error.trace
dockerfile <- dockerfile()
rmd_dockerfile <- containerit::dockerfile(from = "cori_model.R",
image = "rocker/verse:3.6.1",
soft = TRUE)
rmd_dockerfile <- containerit::dockerfile(from = "cori_model.R")
.Last.error.trace
library(googleAuthR)
library(googleCloudStorageR)
## Authenticate on GCE for google cloud services
googleAuthR::gar_gce_auth()
write(rmd_dockerfile, file = "Dockerfile2")
write(dockerfile, file = "Dockerfile2")
